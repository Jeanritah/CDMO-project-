# Build and Run Instructions

## How to use docker:

0. You need Python, pip and docker installed.
1. Run the setup script in order to build the container
    (This step is needed everytime the code is edited).

    On windows CMD:
    ```ps
    setup.bat
    ```
    On MacOS/Linux:
    ```ps
    bash setup.sh
    ```
2. Now you can execute from the terminal commands like:
    ```ps
    python source/main.py --mode CP SMT MIP SAT --range 1 45 --check
    python source/run_cp.py --range 1 45 --obj true
    ```
3. To stop the container use the following commands:
    ```ps
    exit
    docker-compose stop
    ```
    In alternative to `docker-compose stop` the command `docker-compose down`
    can be used to DELETE the container from your machine.

This project can be executed either **from the top-level `main.py`** 
(recommended) or by running **individual solvers** directly .

## 1 Running All Solvers via `main.py`

The `main.py` script provides a unified interface for running all models for one or multiple approaches (CP, SAT, SMT, MIP) and optionally checking their solutions.

**Command Examples:**

Running all models with validity check:
```ps
python source/main.py --mode CP SMT MIP SAT --range 1 45 --check
```
Running just one approach, for ex. CP, without validity check:
```ps
python source/main.py --mode CP --range 1 45 --check
```
<span style="color: red;"><b>⚠️DO NOT RUN THE FOLLOWING COMMAND:⚠️</span>
```bash
cd ./source/
python main.py --mode CP --range 1 45 --check
```

**Explanation of arguments:**

* `--mode`: Specify one or more approaches to run. Choices: `CP`, `MIP`, `SAT`, `SMT`.
* `--range`: Provide the instance range as two numbers (`LOWER UPPER`).
* `--check`: Optional flag to check solution's validity after solving.

This command will run **all selected approaches** on the specified range and check the results automatically.

## 2️ Running Individual Solvers

Each solver can also be run independently. This can be useful for testing or debugging a single solver.

**Command Example (Windows, CP solver):**

```ps
python source/run_cp.py --range 1 45
```

**Arguments:**
<!-- TODO add and unify arguments in all solvers-->

* `--range`: Instance range to solve (`LOWER UPPER`).

## 3️ Solution Checking

To check the validity of solver outputs separately:

```ps
python source/solution_checker.py <path_to_solution_directory>
```
`<path_to_solution_directory>` is the directory containing `.json` solution files generated by the solvers.

# Project Overview